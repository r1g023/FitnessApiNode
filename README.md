# Anywhere Fitness Api

# POST REGISTER

1. role_id: Enter 1 for instructor, enter 2 for student
2. your form should have INPUT option 1 || 2, **MUST be a NUMBER** value
3. After successful register, generate a token to login

```javascript
{
  username: "user";
  password: "password";
  email: "test@email.com";
  role_id: 1 || 2;
}
```

# POST LOGIN

1. Use username and password from register and login

```javascript
{
  username: "user";
  password: "password";
}
```

2. On login you will receive the token to see protected endpoints

```javascript
{
    logged_in: "Welcome `${user}`, have a cookie",
    id: 1,
    instructor: true || false,
    token:"eyJhbGciOey.iOiIxMjM0NT.SflKx6POk6yJV_adQssw5c"
}
```

## GET USERS, GET USER BY ID, UPDATE EMAIL ONLY, DELETE USER

1. _Instructor or Users can see array of list of users_
2. _GET_ https://rlfitnessapi.herokuapp.com/api/users/

```javascript
[
  {
    id: 1,
    username: "username",
    email: "test@email.com",
    role: "student || instructor",
  },
];
```

3. _GET BY ID_ https://rlfitnessapi.herokuapp.com/api/users/:id
4. _PATCH_ https://rlfitnessapi.herokuapp.com/api/users/:id > _can only update by email address_

```javascript
    {
        email: "test@email.com",
    },
```

5. _DELETE_ http://localhost:5000/api/users/:id

# GET CLASSES /api/classes

1. **Instructor or Users can see array of list of classes, but only an instructor can UPDATE, DELETE, ADD a class**
2. _GET_ https://rlfitnessapi.herokuapp.com/api/classes/

```javascript
{
    "id": 1,
    "name": "MMA Training",
    "type": "Kickboxing",
    "class_date": "1 / 4 / 2021",
    "start_time": "8:00 AM",
    "duration": 1.5,
    "intensity": "High",
    "location": "Seattle",
    "registered_students": 10,
    "max_students": 23,
    "created_at": "2021-01-05 00:27:27", > automatically generated by database, DO NOT add to form
    "updated_at": "2021-01-05 00:27:27"  > automatically generated by database, DO NOT add to form
  },
```

3. _GET BY ID_ https://rlfitnessapi.herokuapp.com/api/classes/:id
4. _POST_ https://rlfitnessapi.herokuapp.com/api/classes _*INSTRUCTOR ONLY*_

```javascript
{
    "name": "MMA Training",
    "type": "Kickboxing",
    "class_date": "1 / 4 / 2021",
    "start_time": "8:00 AM",
    "duration": 1.5,
    "intensity": "High",
    "location": "Seattle",
    "registered_students": 10,
    "max_students": 23,
}
```

5. _PUT_ https://rlfitnessapi.herokuapp.com/api/classes/:id _\**INSTRUCTOR ONLY*\_can edit all properties_

```javascript
{
    "name": "MMA Training--",
    "type": "Kickboxing--",
    "class_date": "1 / 4 / 2021--",
    "start_time": "9:00 AM--",
    "duration": 1.8,
    "intensity": "High--",
    "location": "Seattle--"
    "registered_students": 11,
    "max_students": 22,
}
```

5. _DELETE_ https://rlfitnessapi.herokuapp.com/api/users/:id _*INSTRUCTOR ONLY*_

# SEE LIST OF CLASSES JOINED BY USER ID / _JOIN A CLASS_

1. _GET_ https://rlfitnessapi.herokuapp.com/api/users/:id/userClasses _Instructors and Users can see this_

### User can see all classes they joined by **class_id**

```javascript
"list_of_classes": [
    {
      "user_id": 1,
      "class_id": 1,
      "username": "user",
      "start_time": "11:00 AM",
      "class_date": " 1 / 7 / 2021",
      "duration": 1.5,
      "type": "Treadmill",
      "intensity": "High",
      "location": "New York City"
    },
    {
      "user_id": 1,
      "class_id": 10,
      "username": "user",
      "start_time": "9:00 AM",
      "class_date": " 1 / 4 / 2021",
      "duration": 1.8,
      "type": "Treadmill",
      "intensity": "High",
      "location": "Seattle"
    },
]
```

2. _POST_ https://rlfitnessapi.herokuapp.com/api/users/:id/joinClass
   - **User_id is the Id of the user logged in, if joining a class, use user_id && class_id**
   - **To join the class, enter the class_id # into the body to target that class**
   - **entering user_id: 1, class_id: 6 will have you join class id of # 6, etc..**
   - **MUST ENTER a number for user_id and class_id**

```javascript
{
	"user_id": 1,
	"class_id": 6
}
```
